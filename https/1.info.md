#网络服务和安全
为了在网络中传输数据，需要加密，但应用层需要透明处理

#SSL、TSL、HTTPS
SSL (secure sockets layer) 安全套接层
TLS (Transport Layer Security) 安全传输协议 ， 对应TCP 。
SSL 是TLS的前身，现在已不再更新。
HTTPS 是在基于TLS/SSL的安全套接字上的的应用层协议，除了传输层进行了加密外，其它与常规HTTP协议基本保持一致

#加密
##对称加密
双方都持有相同的密钥，这样就暴露了密钥

##非对称加密
（发起请求的视为client， 接收请求的视为server， 这是相对的。）
密钥分为两部分，私钥 和 公钥。私钥就像是一把钥匙；公钥就像是很多把一样的锁。

公钥加密，私钥解密：server把公钥分发给多个client，用于加密数据；server自己保存私钥，用于解密数据。
底层用了openssl

#安全隐患
中间人攻击，这个隐患出现在交换公钥的时候
client在与server建立安全连接前，被中间人冒充server，中间人就持有了client的公钥，并冒充server把自己的公钥给client。
server端遭受与client一样的遭遇。
这样，server和client通信加密数据都是用中间人的公钥加密，中间人当然可以解密，再用双方的证书加密，发给双方。

##ca证书
每个服务器可以向CA认证机构申请一个证书，
包括主机名，IP，颁发的机构，还有机构的公钥
在连接之前，需要确认证书中的签名来自目标服务器，从而信任。

##证书
证书是TLS协议中用来对身份进行验证的机制，是一种数字签名形式的文件，包含证书拥有者的公钥及第三方的证书信息。

证书分为2类：自签名证书和CA证书。一般自签名证书不能用来进行身份认证，如果一个server端使用自签名证书，client端要么被设置为无条件信任任何证书，要么需要将自签名证书的公钥和私钥加入受信任列表。但这样一来就增加了server的私钥泄露风险。